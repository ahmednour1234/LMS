## Autogenerated by Scribe. DO NOT MODIFY.

name: 'Student Auth'
description: |-

  Authentication endpoints for students. All authentication uses the students table, not the default users table.
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/register
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Register Student'
      description: |-
        Register a new student account. After registration, an OTP code will be sent to the provided email address.
        The student status will be set to 'inactive' until email verification is completed.

        In development environment, the OTP code is always `111111`.
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        custom: []
        name: name
        description: "The student's full name."
        required: true
        example: 'John Doe'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      email:
        custom: []
        name: email
        description: "The student's email address (must be unique)."
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password:
        custom: []
        name: password
        description: 'The password (minimum 8 characters).'
        required: true
        example: password123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      phone:
        custom: []
        name: phone
        description: "optional The student's phone number."
        required: false
        example: '+1234567890'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      sex:
        custom: []
        name: sex
        description: "optional The student's gender. Must be one of: male, female."
        required: false
        example: male
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      branch_id:
        custom: []
        name: branch_id
        description: 'optional The ID of the branch.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      student_code:
        custom: []
        name: student_code
        description: 'optional Unique student code.'
        required: false
        example: STU001
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      national_id:
        custom: []
        name: national_id
        description: 'optional National ID number.'
        required: false
        example: '123456789'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      password_confirmation:
        custom: []
        name: password_confirmation
        description: 'Password confirmation.'
        required: true
        example: password123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      name: 'John Doe'
      email: john@example.com
      password: password123
      phone: '+1234567890'
      sex: male
      branch_id: 1
      student_code: STU001
      national_id: '123456789'
      password_confirmation: password123
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
            "success": true,
            "message": "Registration successful. Please check your email for the OTP code.",
            "data": null
          }
        headers: []
        description: ''
      -
        custom: []
        status: 422
        content: |-
          {
            "success": false,
            "message": "The provided data is invalid.",
            "error": {
              "code": "VALIDATION_ERROR",
              "details": {
                "email": ["The email has already been taken."]
              }
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/verify-otp
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Verify OTP'
      description: |-
        Verify the OTP code sent to the student's email. Upon successful verification:
        - The student's email_verified_at will be set
        - The student's status will be changed to 'active'
        - A JWT token will be issued (auto-login)
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      email:
        custom: []
        name: email
        description: "The student's email address."
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      code:
        custom: []
        name: code
        description: 'The 6-digit OTP code.'
        required: true
        example: '111111'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      email: john@example.com
      code: '111111'
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Email verified successfully. You are now logged in.",
            "data": {
              "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
              "token_type": "Bearer",
              "student": {
                "id": 1,
                "name": "John Doe",
                "email": "john@example.com",
                "phone": "+1234567890",
                "sex": "male",
                "branch_id": 1,
                "image": null,
                "status": "active",
                "email_verified_at": "2026-01-15T12:00:00+00:00",
                "created_at": "2026-01-15T12:00:00+00:00"
              }
            }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 422
        content: |-
          {
            "success": false,
            "message": "Invalid or expired OTP code.",
            "error": {
              "code": "VALIDATION_ERROR"
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/login
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: Login
      description: "Authenticate a student and return a JWT token. The student must have status 'active' (email verified)."
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      email:
        custom: []
        name: email
        description: "The student's email address."
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password:
        custom: []
        name: password
        description: "The student's password."
        required: true
        example: password123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      email: john@example.com
      password: password123
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Login successful.",
            "data": {
              "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
              "token_type": "Bearer",
              "student": {
                "id": 1,
                "name": "John Doe",
                "email": "john@example.com",
                "phone": "+1234567890",
                "sex": "male",
                "branch_id": 1,
                "image": null,
                "status": "active",
                "email_verified_at": "2026-01-15T12:00:00+00:00",
                "created_at": "2026-01-15T12:00:00+00:00"
              }
            }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: |-
          {
            "success": false,
            "message": "Invalid email or password.",
            "error": {
              "code": "UNAUTHORIZED"
            }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 403
        content: |-
          {
            "success": false,
            "message": "Email address has not been verified. Please verify your email to continue.",
            "error": {
              "code": "EMAIL_NOT_VERIFIED"
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/forgot-password
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Forgot Password'
      description: |-
        Request a password reset OTP code. An OTP will be sent to the provided email address if it exists in the system.
        For security reasons, the response is the same whether the email exists or not.
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      email:
        custom: []
        name: email
        description: "The student's email address."
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      email: john@example.com
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "If the email exists, an OTP code has been sent to your email address.",
            "data": null
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/reset-password
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Reset Password'
      description: "Reset the student's password using the OTP code received via email."
      authenticated: false
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      email:
        custom: []
        name: email
        description: "The student's email address."
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      code:
        custom: []
        name: code
        description: 'The 6-digit OTP code.'
        required: true
        example: '111111'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password:
        custom: []
        name: password
        description: 'The new password (minimum 8 characters).'
        required: true
        example: newpassword123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password_confirmation:
        custom: []
        name: password_confirmation
        description: 'Password confirmation.'
        required: true
        example: newpassword123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      email: john@example.com
      code: '111111'
      password: newpassword123
      password_confirmation: newpassword123
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Password reset successfully. You can now login with your new password.",
            "data": null
          }
        headers: []
        description: ''
      -
        custom: []
        status: 422
        content: |-
          {
            "success": false,
            "message": "Invalid or expired OTP code.",
            "error": {
              "code": "VALIDATION_ERROR"
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/v1/student/me
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Get Authenticated Student'
      description: "Get the currently authenticated student's profile information."
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer Bearer {YOUR_JWT_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Student profile retrieved successfully.",
            "data": {
              "id": 1,
              "name": "John Doe",
              "email": "john@example.com",
              "phone": "+1234567890",
              "sex": "male",
              "branch_id": 1,
              "image": "http://example.com/storage/students/image.jpg",
              "status": "active",
              "email_verified_at": "2026-01-15T12:00:00+00:00",
              "created_at": "2026-01-15T12:00:00+00:00"
            }
          }
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: |-
          {
            "success": false,
            "message": "Authentication required.",
            "error": {
              "code": "UNAUTHORIZED"
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 3V5EgbkvZcDPa166h8fd4ae'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/logout
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: Logout
      description: 'Invalidate the current JWT token, effectively logging out the student.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer Bearer {YOUR_JWT_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Logged out successfully.",
            "data": null
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 3V5EgbkvZcDPa166h8fd4ae'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/student/refresh
    metadata:
      custom: []
      groupName: 'Student Auth'
      groupDescription: |-

        Authentication endpoints for students. All authentication uses the students table, not the default users table.
      subgroup: ''
      subgroupDescription: ''
      title: 'Refresh Token'
      description: 'Get a new JWT token using the current valid token. This extends the session without requiring re-authentication.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer Bearer {YOUR_JWT_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Token refreshed successfully.",
            "data": {
              "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
              "token_type": "Bearer"
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 3V5EgbkvZcDPa166h8fd4ae'
    controller: null
    method: null
    route: null
